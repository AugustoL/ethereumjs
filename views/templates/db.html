<navbar></navbar>
<div class="container">
	<div class="row" ng-show="loading">
		<div class="col-xs-10 col-xs-offset-1">
			<div class="box">
				<h3 class="text-center"><i class="fa fa-refresh fa-spin"></i></h3>
			</div>
		</div>
	</div>
	<div class="row box" ng-show="!loading">
		<h2 class="text-center">Contracts</h2>
		<div ng-repeat="contract in contracts">
			<h3>{{contract.name}}
				<span ng-show="contract.address != ''"> - {{contract.address}}</span> 
				<button ng-show="!contract.dateDestroyed" class="btn btn-sm btn-default pull-right margin-sides" ng-click="destroyContract(contract.address)">Destroy</button>
				<button ng-show="!contract.code" class="btn btn-sm btn-default pull-right margin-sides" ng-click="openContract(contract)">Open Contract</button>
				<button ng-show="contract.code" class="btn btn-sm btn-default pull-right margin-sides" ng-click="closeContract(contract)">Close Contract</button>
			</h3>
			<h4 ng-show="contract.loading"><i class="fa fa-refresh fa-spin"></i></h4>
			<div ng-show="contract.code&&!contract.loading">
				<h5 ng-show="contract.dateCompiled">Date compiled: {{ contract.dateCompiled | date:'short'}}</h5>
				<h5 ng-show="contract.dateDestroyed">Date destroyed: {{ contract.dateDestroyed | date:'short'}}</h5>
				Source code:<pre >{{contract.source}}</pre>
				Code on blockchain:<pre ng-show="contract.code">{{contract.code | json:4 }}</pre>
			</div>
		</div>
	</div>
</div>
